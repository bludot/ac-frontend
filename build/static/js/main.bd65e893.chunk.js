(this["webpackJsonpknob-for-ac"]=this["webpackJsonpknob-for-ac"]||[]).push([[0],{34:function(e,n,t){},59:function(e,n,t){"use strict";t.r(n);var o=t(7),a=(t(33),t(4)),i=t(5),r=(t(34),t(8)),s=t(24),c=t(25),l=t(28),p=t(27),h=t(0),d=t.n(h),u=t(1),g=function(e){Object(l.a)(t,e);var n=Object(p.a)(t);function t(e){var o;return Object(s.a)(this,t),(o=n.call(this,e)).getArcToValue=function(e){var n,t,a=o.props.log?Math.log(Math.pow(e/o.props.min,o.angleArc))/Math.log(o.props.max/o.props.min):(e-o.props.min)*o.angleArc/(o.props.max-o.props.min);return t=o.props.clockwise?(n=o.startAngle-1e-5)+a+1e-5:(n=o.endAngle+1e-5)-a-1e-5,o.props.cursor&&(n=t-o.cursorExt,t+=o.cursorExt),{startAngle:n,endAngle:t,acw:!o.props.clockwise&&!o.props.cursor}},o.getCanvasScale=function(e){return(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI||1)/(e.webkitBackingStorePixelRatio||1)},o.coerceToStep=function(e){var n=o.props.log?Math.pow(o.props.step,~~((Math.abs(e)<1?-.5:.5)+Math.log(e)/Math.log(o.props.step))):~~((e<0?-.5:.5)+e/o.props.step)*o.props.step;return n=Math.max(Math.min(n,o.props.max),o.props.min),isNaN(n)&&(n=0),o.coerce=Math.round(1e3*n)/1e3,Math.round(1e3*n)/1e3},o.eventToValue=function(e){var n=o.canvasRef.getBoundingClientRect(),t=e.clientX-n.left,a=e.clientY-n.top,i=Math.atan2(t-o.w/2,o.w/2-a)-o.angleOffset;o.props.clockwise||(i=o.angleArc-i-2*Math.PI),o.angleArc!==2*Math.PI&&i<0&&i>-.5?i=0:i<0&&(i+=2*Math.PI);var r=o.props.log?Math.pow(o.props.max/o.props.min,i/o.angleArc)*o.props.min:i*(o.props.max-o.props.min)/o.angleArc+o.props.min;return o.val=r,o.coerceToStep(r)},o.handleMouseDown=function(e){o.props.onChange(o.eventToValue(e)),document.addEventListener("mousemove",o.handleMouseMove),document.addEventListener("mouseup",o.handleMouseUp),document.addEventListener("keyup",o.handleEsc)},o.handleMouseMove=function(e){e.preventDefault(),o.props.onChange(o.eventToValue(e))},o.handleMouseUp=function(e){o.props.onChangeEnd(o.eventToValue(e)),document.removeEventListener("mousemove",o.handleMouseMove),document.removeEventListener("mouseup",o.handleMouseUp),document.removeEventListener("keyup",o.handleEsc)},o.handleTouchStart=function(e){e.preventDefault(),o.touchIndex=e.targetTouches.length-1,o.props.onChange(o.eventToValue(e.targetTouches[o.touchIndex])),document.addEventListener("touchmove",o.handleTouchMove,{passive:!1}),document.addEventListener("touchend",o.handleTouchEnd),document.addEventListener("touchcancel",o.handleTouchEnd)},o.handleTouchMove=function(e){e.preventDefault(),o.props.onChange(o.eventToValue(e.targetTouches[o.touchIndex]))},o.handleTouchEnd=function(e){o.props.onChangeEnd(o.eventToValue(e)),document.removeEventListener("touchmove",o.handleTouchMove),document.removeEventListener("touchend",o.handleTouchEnd),document.removeEventListener("touchcancel",o.handleTouchEnd)},o.handleEsc=function(e){27===e.keyCode&&(e.preventDefault(),o.handleMouseUp())},o.handleTextInput=function(e){var n=Math.max(Math.min(+e.target.value,o.props.max),o.props.min)||o.props.min;o.props.onChange(n)},o.handleWheel=function(e){e.preventDefault(),e.deltaX>0||e.deltaY>0?o.props.onChange(o.coerceToStep(o.props.log?o.props.value*o.props.step:o.props.value+o.props.step)):(e.deltaX<0||e.deltaY<0)&&o.props.onChange(o.coerceToStep(o.props.log?o.props.value/o.props.step:o.props.value-o.props.step))},o.handleArrowKey=function(e){37===e.keyCode||40===e.keyCode?(e.preventDefault(),o.props.onChange(o.coerceToStep(o.props.log?o.props.value/o.props.step:o.props.value-o.props.step))):38!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),o.props.onChange(o.coerceToStep(o.props.log?o.props.value*o.props.step:o.props.value+o.props.step)))},o.inputStyle=function(){return{width:"".concat(o.w/2+4>>0,"px"),height:"".concat(o.w/3>>0,"px"),position:"absolute",verticalAlign:"middle",marginTop:"".concat(o.w/3>>0,"px"),marginLeft:"-".concat(3*o.w/4+2>>0,"px"),border:0,background:"none",font:"".concat(o.props.fontWeight," ").concat(o.w/o.digits>>0,"px ").concat(o.props.font),textAlign:"center",color:o.props.inputColor||o.props.fgColor,padding:"0px",WebkitAppearance:"none"}},o.renderCenter=function(){var e=o.props,n=e.displayCustom,t=e.displayInput,a=e.disableTextInput,i=e.readOnly,r=e.value;return t?Object(u.jsx)("input",{style:o.inputStyle(),type:"text",value:r,onChange:o.handleTextInput,onKeyDown:o.handleArrowKey,readOnly:i||a}):n&&"function"===typeof n?n():null},o.w=o.props.width||200,o.h=o.props.height||o.w,o.cursorExt=!0===o.props.cursor?.3:o.props.cursor/100,o.angleArc=o.props.angleArc*Math.PI/180,o.angleOffset=o.props.angleOffset*Math.PI/180,o.startAngle=1.5*Math.PI+o.angleOffset,o.endAngle=1.5*Math.PI+o.angleOffset+o.angleArc,o.digits=Math.max(String(Math.abs(o.props.min)).length,String(Math.abs(o.props.max)).length,2)+2,o.val=0,o.coerce=0,o}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.drawCanvas(),this.props.readOnly||this.canvasRef.addEventListener("touchstart",this.handleTouchStart,{passive:!1})}},{key:"componentWillReceiveProps",value:function(e){e.width&&this.w!==e.width&&(this.w=e.width),e.height&&this.h!==e.height&&(this.h=e.height)}},{key:"componentDidUpdate",value:function(){this.drawCanvas()}},{key:"componentWillUnmount",value:function(){this.canvasRef.removeEventListener("touchstart",this.handleTouchStart)}},{key:"drawCanvas",value:function(){var e=this.canvasRef.getContext("2d"),n=this.getCanvasScale(e);this.canvasRef.width=this.w*n,this.canvasRef.height=this.h*n,e.scale(n,n),this.xy=this.w/2,this.lineWidth=this.xy*this.props.thickness,this.radius=this.xy-this.lineWidth/2,e.lineWidth=this.lineWidth,e.lineCap=this.props.lineCap,e.save(),e.beginPath(),e.strokeStyle="white",e.shadowColor="rgba(0,0,0,0.25)",e.shadowBlur=10,e.lineWidth=1e-6,e.arc(this.xy,this.xy,this.radius-23,360,0,!0);var t=e.createRadialGradient(this.xy-this.w/4,this.xy-20,0,this.xy,this.xy,this.radius-23);t.addColorStop(.2,"#E1D1E9"),t.addColorStop(1,"#F8AFAE"),e.fillStyle=t,e.fill(),e.stroke(),e.shadowBlur=0,e.beginPath(),e.strokeStyle="white",e.lineWidth=this.lineWidth,e.arc(this.xy,this.xy,this.radius-30,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke(),e.beginPath(),e.strokeStyle="#E7D8E4",e.lineCap="butt",e.setLineDash([2,24]),e.beginPath(),e.lineWidth=2,e.arc(this.xy,this.xy,this.radius-10,0,2*Math.PI),e.closePath(),e.stroke(),e.restore(),e.lineCap=this.props.lineCap;var o=this.getArcToValue(this.props.value);e.beginPath(),e.lineWidth=this.lineWidth,e.strokeStyle=this.props.fgColor,this.props.cursor||e.arc(this.xy,this.xy,this.radius-30,o.startAngle,o.endAngle,o.acw),e.stroke(),e.beginPath(),e.strokeStyle="#F8AFAE",e.shadowColor="rgba(0,0,0,0.25)",e.shadowBlur=5,e.lineWidth=this.lineWidth+10,e.arc(this.xy,this.xy,this.radius-30,o.endAngle,o.endAngle+1e-4,o.acw),e.stroke(),e.shadowBlur=0}},{key:"render",value:function(){var e=this,n=this.props,t=n.canvasClassName,o=n.className,a=n.disableMouseWheel,i=n.readOnly,s=n.title,c=n.value;return Object(u.jsxs)("div",{className:o,style:Object(r.a)({position:"relative",width:this.w,height:this.h,display:"inline-block",borderRadius:"100%",zIndex:1,left:0,right:0,margin:"auto"},"display","block"),onWheel:i||a?null:this.handleWheel,children:[Object(u.jsx)("canvas",{ref:function(n){e.canvasRef=n},className:t,style:{width:"100%",height:"100%",borderRadius:"100%",boxShadow:"inset 0px 0px 1px 1px rgba(0,0,0,0.25)",background:"white",zIndex:1},onMouseDown:i?null:this.handleMouseDown,title:s?"".concat(s,": ").concat(c):c}),this.renderCenter()]})}}]),t}(d.a.Component);g.defaultProps={onChangeEnd:function(){},min:0,max:100,step:1,log:!1,width:200,height:200,thickness:.35,lineCap:"butt",bgColor:"#EEE",fgColor:"#EA2",inputColor:"",font:"Arial",fontWeight:"bold",clockwise:!0,cursor:!1,stopper:!0,readOnly:!1,disableTextInput:!1,displayInput:!0,angleArc:360,angleOffset:0,disableMouseWheel:!1,className:null,canvasClassName:null};var m=g,f=t(26),v=t.n(f);var b,x=t(12),w=t.n(x);var j=function(e){var n,t,o=e.width,a=e.height,i=e.thickness,r=void 0===i?.35:i,s=e.capSize,c=void 0===s?20:s,l=(e.lineCap,e.bgColor),p=void 0===l?"#CCC":l,d=e.fgColor,g=void 0===d?"#F8AFAE":d,m=e.onChange,f=void 0===m?function(){}:m,v=e.onChangeEnd,x=void 0===v?function(){}:v,w=(e.min,e.max),j=void 0===w?10:w,O=e.value,C=void 0===O?5:O,E=a||200,y=o||50,k=0,M=0,T=C;function S(){var e=b.getBoundingClientRect(),n=c/2;return M=(T?(1-T/j)*E+c:e.bottom-e.top+c)+n}function A(e){if(!b)return T;var n=b.getBoundingClientRect(),t=e.clientX-n.left,o=e.clientY-n.top,a=Math.max(Math.min(o,E),0);n.bottom,n.top;console.log(t,o,E);var i=(E-a)/E*j;return console.log(i),T=i>.5?Math.round(i):0,S(),T}function F(e){e.preventDefault(),f(A(e))}function D(e){f(A(e)),document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",D)}function I(e){e.preventDefault(),f(A(e.targetTouches[n]))}function L(e){x(A(e)),document.removeEventListener("touchmove",I),document.removeEventListener("touchend",L),document.removeEventListener("touchcancel",L)}function P(e){e.preventDefault(),n=e.targetTouches.length-1,f(A(e.targetTouches[n])),document.addEventListener("touchmove",I,{passive:!1}),document.addEventListener("touchend",L),document.addEventListener("touchcancel",L)}function W(){var e=b.getContext("2d"),n=function(e){return(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI||1)/(e.webkitBackingStorePixelRatio||1)}(e),o=c/2;b.width=y*n,b.height=(E+2*c)*n,e.scale(n,n),t=(k=y/2)*r,e.lineWidth=t,e.save(),e.beginPath(),e.lineCap="round",e.strokeStyle=p,e.lineWidth=5,e.moveTo(k,E+c),e.lineTo(k,c),e.stroke(),e.restore(),e.beginPath(),e.lineCap="round",e.strokeStyle="#FF645A",e.lineWidth=5,e.moveTo(k,E+c),e.lineTo(k,M-o-1),e.stroke(),e.restore(),e.beginPath(),e.shadowColor="rgba(0,0,0,0.25)",e.shadowBlur=10,e.lineCap="round",e.strokeStyle=g,e.lineWidth=c,e.moveTo(k,M-o),e.lineTo(k,M-o-1),e.stroke()}return Object(h.useEffect)((function(){console.log("being run"),T=C,S(),b.addEventListener("touchstart",P,{passive:!1}),W()}),[]),Object(h.useEffect)((function(){console.log("being run"),T=C,S(),W()}),[C]),console.log("rerendering?"),Object(u.jsx)("div",{style:{position:"relative",width:y+"px",height:E+"px",display:"inline-block"},className:"slider",children:Object(u.jsx)("canvas",{style:{width:"100%",height:"100%"},ref:function(e){b=e},onMouseDown:function(e){f(A(e)),document.addEventListener("mousemove",F),document.addEventListener("mouseup",D)}})})},O=t(13),C=t(14),E=t(9);t(58);function y(){var e=Object(h.useState)({power:1,temp:25,mode:0,fan:10,powerful:0,quiet:1,swingh:1,swingv:1}),n=Object(i.a)(e,2),t=n[0],o=n[1],r=Object(h.useState)(26),s=Object(i.a)(r,2),c=s[0],l=s[1],p=Object(h.useState)(0),d=Object(i.a)(p,2),g=d[0],f=d[1],b=Object(h.useState)(!0),x=Object(i.a)(b,2),y=x[0],k=x[1],M=Object(h.useState)(!0),T=Object(i.a)(M,2),S=T[0],A=T[1],F=Object(h.useState)(!1),D=Object(i.a)(F,2),I=D[0],L=D[1],P=function(e,n){var t=Object(h.useState)(e),o=Object(i.a)(t,2),a=o[0],r=o[1];return Object(h.useEffect)((function(){var t=setTimeout((function(){r(e)}),n);return function(){clearTimeout(t)}}),[e]),a}(t,500);return Object(h.useEffect)((function(){var e;P&&(e=P,E.b.info("Sending request"),v.a.post("http://homeac.floretos.com/cmd",e).then((function(){E.b.info("request Sent")})).catch((function(e){console.error(e)}))).then((function(e){}))}),[P]),Object(h.useEffect)((function(){o(Object(a.a)(Object(a.a)({},t),{},{temp:c}))}),[c]),Object(h.useEffect)((function(){o(Object(a.a)(Object(a.a)({},t),{},{fan:g}))}),[g]),Object(h.useEffect)((function(){o(Object(a.a)(Object(a.a)({},t),{},{swingv:y?1:0}))}),[y]),Object(h.useEffect)((function(){o(Object(a.a)(Object(a.a)({},t),{},{power:S?1:0}))}),[S]),Object(h.useEffect)((function(){o(Object(a.a)(Object(a.a)({},t),{},{powerful:I?1:0}))}),[I]),Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)("style",{children:"\n          .temp {\n            position: absolute;\n            width: 2em;\n            height: 1.5em;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            top: 0;\n            margin: auto;\n            color: white;\n            font-size: 2em;\n            text-align: center;\n          }\n\n          .temp span {\n            font-size: 0.5em;\n            vertical-align: top;\n            padding: 0 0.25em;\n          }\n          .app {\n            height: 100vh;\n            display: grid;\n            grid-template-columns: 50px auto 20%;\n            grid-template-rows: 50px auto;\n          }\n          .header {\n            grid-column: 2 / 3;\n            grid-row: 1;\n            background: transparent;\n          }\n          .menu {\n            grid-column: 1 / 2;\n            grid-row: 1 / 3;\n            background: white;\n          }\n          .main {\n            padding: 1em;\n            padding-top: 50px;\n            grid-column: 2 / 3;\n            grid-row: 1 / 3;\n            background: #F8F7FA;\n            position: relative;\n          }\n          \n          .right {\n            grid-column: 3 / 4;\n            grid-row: 1 / 3;\n            background: #eeebf4;\n          }\n          .knob {\n            background: transparent;\n            flex: 1 1 auto;\n          }\n          .center {\n            margin: 1em 0;\n            display: flex;\n            flex-direction: row;\n            align-content: space-around;\n          }\n          .temperature {\n            position: relative;\n            flex: 1 1 auto;\n          }\n          .power {\n            position: absolute;\n            width: 40px;\n            height: 40px;\n            border-radius: 100%;\n            text-align: center;\n            line-height: 44px;\n            font-size: 20px;\n            left: 0;\n            right: 0;\n            bottom: -15px;\n            margin: auto;\n            z-index: 2;\n          }\n\n          .power.on {\n            color: white;\n            background-image: linear-gradient(to bottom right, #E1D1E9, #F8AFAE);\n          }\n          .power.off {\n            color: #ccc;\n            background-image: linear-gradient(to bottom right, #FFFFFF, #ccc);\n          }\n          .fan-slider {\n            position: relative;\n            width: 100px;\n            margin: 0 1em;\n          }\n          .slider-text {\n            position: absolute;\n            bottom: 15px;\n            left: 0px;\n            transform: rotate(-90deg);\n\n            /* Legacy vendor prefixes that you probably don't need... */\n\n            /* Safari */\n            -webkit-transform: rotate(-90deg);\n\n            /* Firefox */\n            -moz-transform: rotate(-90deg);\n\n            /* IE */\n            -ms-transform: rotate(-90deg);\n\n            /* Opera */\n            -o-transform: rotate(-90deg);\n\n            /* Internet Explorer */\n            filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);\n            white-space: nowrap;\n            width: 0;\n            overflow: visible;\n            height: 0;\n            font-weight: 300;\n            color: #666;\n            font-size: 0.75em;\n            margin: 0;\n          }\n          .swing {\n            position: absolute;\n            top: 0;\n            right: 0;\n            margin: 1em;\n            margin-top: 40px;\n            vertical-align: top;\n            display: flex;\n            align-items: center;\n          }\n          .swing span {\n            font-weight: 300;\n            line-height: 40px;\n            font-size: 0.75em;\n            margin: 0 0.5em;\n            color: #666;\n          }\n          .powerful {\n            position: absolute;\n            top: 0;\n            left: 0;\n            margin: 1em;\n            margin-top: 40px;\n            vertical-align: top;\n            display: flex;\n            align-items: center;\n          }\n          .powerful span {\n            font-weight: 300;\n            line-height: 40px;\n            font-size: 0.75em;\n            margin: 0 0.5em;\n            color: #666;\n          }\n          .powerful span .svg-inline--fa {\n            color: #999;\n          }\n        "}),Object(u.jsx)(E.a,{position:"top-right",autoClose:1e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(u.jsx)("div",{className:"menu",children:"Menu"}),Object(u.jsxs)("div",{className:"main",children:[Object(u.jsxs)("label",{className:"swing",htmlFor:"material-switch",children:[Object(u.jsx)("span",{children:"Swing"}),Object(u.jsx)(w.a,{checked:y,onChange:function(e){return k(e)},offColor:"#DFDBE9",onColor:"#DFDBE9",onHandleColor:"#7ED321",handleDiameter:15,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.6)",height:8,width:30,className:"react-switch",id:"material-switch"})]}),Object(u.jsxs)("label",{className:"powerful",htmlFor:"material-switch",children:[Object(u.jsx)("span",{children:Object(u.jsx)(O.a,{icon:C.b})}),Object(u.jsx)(w.a,{checked:I,onChange:L,offColor:"#DFDBE9",onColor:"#DFDBE9",onHandleColor:"#7ED321",handleDiameter:15,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.6)",height:8,width:30,className:"react-switch",id:"material-switch"})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"center",children:[Object(u.jsxs)("div",{className:"temperature",children:[Object(u.jsx)("div",{className:"power ".concat(S?"on":"off"),onClick:function(){A(!S)},children:Object(u.jsx)(O.a,{icon:C.a})}),Object(u.jsx)(m,{fgColor:"#FF645A",bgColor:"#FEFEFE",inputColor:"#FFFFFF",value:c,onChange:l,min:10,max:32,lineCap:"round",thickness:.15,angleOffset:220,angleArc:280,displayInput:!1,displayCustom:function(){return Object(u.jsxs)("span",{className:"temp",children:[c,Object(u.jsx)("span",{children:"\xb0C"})]})},className:"knob"})]}),Object(u.jsxs)("div",{className:"fan-slider",children:[Object(u.jsx)("div",{className:"slider-text",children:"Fan Speed"}),Object(u.jsx)(j,{min:0,max:5,value:g,onChange:f})]})]})]}),Object(u.jsx)("div",{className:"header",children:"One"}),Object(u.jsx)("div",{className:"right",children:"Right"})]})}var k=document.getElementById("root");Object(o.render)(Object(u.jsx)(y,{}),k)}},[[59,1,2]]]);
//# sourceMappingURL=main.bd65e893.chunk.js.map